(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[609],{5822:(e,t,r)=>{"use strict";var n=r(407),o=r(4697),i=function(e,t){var r=this;this.editorView=e,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map((function(t){var n=function(e){return r[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}}))};i.prototype.destroy=function(){var e=this;this.handlers.forEach((function(t){var r=t.name,n=t.handler;return e.editorView.dom.removeEventListener(r,n)}))},i.prototype.update=function(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())},i.prototype.setCursor=function(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},i.prototype.updateOverlay=function(){var e,t=this.editorView.state.doc.resolve(this.cursorPos);if(!t.parent.inlineContent){var r=t.nodeBefore,n=t.nodeAfter;if(r||n){var o=this.editorView.nodeDOM(this.cursorPos-(r?r.nodeSize:0)).getBoundingClientRect(),i=r?o.bottom:o.top;r&&n&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:o.left,right:o.right,top:i-this.width/2,bottom:i+this.width/2}}}if(!e){var s=this.editorView.coordsAtPos(this.cursorPos);e={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}var l,a,d=this.editorView.dom.offsetParent;if(this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!d||d==document.body&&"static"==getComputedStyle(d).position)l=-pageXOffset,a=-pageYOffset;else{var c=d.getBoundingClientRect();l=c.left-d.scrollLeft,a=c.top-d.scrollTop}this.element.style.left=e.left-l+"px",this.element.style.top=e.top-a+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"},i.prototype.scheduleRemoval=function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return t.setCursor(null)}),e)},i.prototype.dragover=function(e){if(this.editorView.editable){var t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY});if(t){var r=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&null==(r=o.dropPoint(this.editorView.state.doc,r,this.editorView.dragging.slice)))return this.setCursor(null);this.setCursor(r),this.scheduleRemoval(5e3)}}},i.prototype.dragend=function(){this.scheduleRemoval(20)},i.prototype.drop=function(){this.scheduleRemoval(20)},i.prototype.dragleave=function(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)},t.q=function(e){return void 0===e&&(e={}),new n.Plugin({view:function(t){return new i(t,e)}})}},2444:(e,t,r)=>{"use strict";var n=r(2039),o=r(407),i=r(1240),s=r(6989),l=function(e){function t(t){e.call(this,t,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(r,n){var o=r.resolve(n.map(this.head));return t.valid(o)?new t(o):e.near(o)},t.prototype.content=function(){return s.Slice.empty},t.prototype.eq=function(e){return e instanceof t&&e.head==this.head},t.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},t.fromJSON=function(e,r){if("number"!=typeof r.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new t(e.resolve(r.pos))},t.prototype.getBookmark=function(){return new a(this.anchor)},t.valid=function(e){var t=e.parent;if(t.isTextblock||!function(e){for(var t=e.depth;t>=0;t--){var r=e.index(t);if(0!=r)for(var n=e.node(t).child(r-1);;n=n.lastChild){if(0==n.childCount&&!n.inlineContent||n.isAtom||n.type.spec.isolating)return!0;if(n.inlineContent)return!1}}return!0}(e)||!function(e){for(var t=e.depth;t>=0;t--){var r=e.indexAfter(t),n=e.node(t);if(r!=n.childCount)for(var o=n.child(r);;o=o.firstChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}(e))return!1;var r=t.type.spec.allowGapCursor;if(null!=r)return r;var n=t.contentMatchAt(e.index()).defaultType;return n&&n.isTextblock},t.findFrom=function(e,r,n){e:for(;;){if(!n&&t.valid(e))return e;for(var i=e.pos,s=null,l=e.depth;;l--){var a=e.node(l);if(r>0?e.indexAfter(l)<a.childCount:e.index(l)>0){s=a.child(r>0?e.indexAfter(l):e.index(l)-1);break}if(0==l)return null;i+=r;var d=e.doc.resolve(i);if(t.valid(d))return d}for(;;){var c=r>0?s.firstChild:s.lastChild;if(!c){if(s.isAtom&&!s.isText&&!o.NodeSelection.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*r),n=!1;continue e}break}s=c,i+=r;var u=e.doc.resolve(i);if(t.valid(u))return u}return null}},t}(o.Selection);l.prototype.visible=!1,o.Selection.jsonID("gapcursor",l);var a=function(e){this.pos=e};a.prototype.map=function(e){return new a(e.map(this.pos))},a.prototype.resolve=function(e){var t=e.resolve(this.pos);return l.valid(t)?new l(t):o.Selection.near(t)};var d=n.keydownHandler({ArrowLeft:c("horiz",-1),ArrowRight:c("horiz",1),ArrowUp:c("vert",-1),ArrowDown:c("vert",1)});function c(e,t){var r="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,n,i){var s=e.selection,a=t>0?s.$to:s.$from,d=s.empty;if(s instanceof o.TextSelection){if(!i.endOfTextblock(r)||0==a.depth)return!1;d=!1,a=e.doc.resolve(t>0?a.after():a.before())}var c=l.findFrom(a,t,d);return!!c&&(n&&n(e.tr.setSelection(new l(c))),!0)}}function u(e,t,r){if(!e.editable)return!1;var n=e.state.doc.resolve(t);if(!l.valid(n))return!1;var i=e.posAtCoords({left:r.clientX,top:r.clientY}).inside;return!(i>-1&&o.NodeSelection.isSelectable(e.state.doc.nodeAt(i))||(e.dispatch(e.state.tr.setSelection(new l(n))),0))}function p(e){if(!(e.selection instanceof l))return null;var t=document.createElement("div");return t.className="ProseMirror-gapcursor",i.DecorationSet.create(e.doc,[i.Decoration.widget(e.selection.head,t,{key:"gapcursor"})])}t.du=function(){return new o.Plugin({props:{decorations:p,createSelectionBetween:function(e,t,r){if(t.pos==r.pos&&l.valid(r))return new l(r)},handleClick:u,handleKeyDown:d}})}},3749:(e,t,r)=>{"use strict";var n=r(4697),o=r(6989);t.IB=function(e){return function(t,r){var i=t.selection,s=i.$from,l=i.$to,a=s.blockRange(l,(function(t){return t.childCount&&t.firstChild.type==e}));return!!a&&(!r||(s.node(a.depth-1).type==e?function(e,t,r,i){var s=e.tr,l=i.end,a=i.$to.end(i.depth);return l<a&&(s.step(new n.ReplaceAroundStep(l-1,a,l,a,new o.Slice(o.Fragment.from(r.create(null,i.parent.copy())),1,0),1,!0)),i=new o.NodeRange(s.doc.resolve(i.$from.pos),s.doc.resolve(a),i.depth)),t(s.lift(i,n.liftTarget(i)).scrollIntoView()),!0}(t,r,e,a):function(e,t,r){for(var i=e.tr,s=r.parent,l=r.end,a=r.endIndex-1,d=r.startIndex;a>d;a--)l-=s.child(a).nodeSize,i.delete(l-1,l+1);var c=i.doc.resolve(r.start),u=c.nodeAfter,p=0==r.startIndex,f=r.endIndex==s.childCount,h=c.node(-1),v=c.index(-1);if(!h.canReplace(v+(p?0:1),v+1,u.content.append(f?o.Fragment.empty:o.Fragment.from(s))))return!1;var m=c.pos,g=m+u.nodeSize;return i.step(new n.ReplaceAroundStep(m-(p?1:0),g+(f?1:0),m+1,g-1,new o.Slice((p?o.Fragment.empty:o.Fragment.from(s.copy(o.Fragment.empty))).append(f?o.Fragment.empty:o.Fragment.from(s.copy(o.Fragment.empty))),p?0:1,f?0:1),p?0:1)),t(i.scrollIntoView()),!0}(t,r,a)))}},t.bw=function(e){return function(t,r){var i=t.selection,s=i.$from,l=i.$to,a=s.blockRange(l,(function(t){return t.childCount&&t.firstChild.type==e}));if(!a)return!1;var d=a.startIndex;if(0==d)return!1;var c=a.parent,u=c.child(d-1);if(u.type!=e)return!1;if(r){var p=u.lastChild&&u.lastChild.type==c.type,f=o.Fragment.from(p?e.create():null),h=new o.Slice(o.Fragment.from(e.create(null,o.Fragment.from(c.type.create(null,f)))),p?3:1,0),v=a.start,m=a.end;r(t.tr.step(new n.ReplaceAroundStep(v-(p?3:1),m,v,m,h,1,!0)).scrollIntoView())}return!0}},t.s6=function(e){return function(t,r){var i=t.selection,s=i.$from,l=i.$to,a=i.node;if(a&&a.isBlock||s.depth<2||!s.sameParent(l))return!1;var d=s.node(-1);if(d.type!=e)return!1;if(0==s.parent.content.size&&s.node(-1).childCount==s.indexAfter(-1)){if(2==s.depth||s.node(-3).type!=e||s.index(-2)!=s.node(-2).childCount-1)return!1;if(r){for(var c=o.Fragment.empty,u=s.index(-1)>0,p=s.depth-(u?1:2);p>=s.depth-3;p--)c=o.Fragment.from(s.node(p).copy(c));c=c.append(o.Fragment.from(e.createAndFill()));var f=t.tr.replace(s.before(u?null:-1),s.after(-3),new o.Slice(c,u?3:2,2));f.setSelection(t.selection.constructor.near(f.doc.resolve(s.pos+(u?3:2)))),r(f.scrollIntoView())}return!0}var h=l.pos==s.end()?d.contentMatchAt(0).defaultType:null,v=t.tr.delete(s.pos,l.pos),m=h&&[null,{type:h}];return!!n.canSplit(v.doc,s.pos,2,m)&&(r&&r(v.split(s.pos,2,m).scrollIntoView()),!0)}},t.KI=function(e,t){return function(r,i){var s=r.selection,l=s.$from,a=s.$to,d=l.blockRange(a),c=!1,u=d;if(!d)return!1;if(d.depth>=2&&l.node(d.depth-1).type.compatibleContent(e)&&0==d.startIndex){if(0==l.index(d.depth-1))return!1;var p=r.doc.resolve(d.start-2);u=new o.NodeRange(p,p,d.depth),d.endIndex<d.parent.childCount&&(d=new o.NodeRange(l,r.doc.resolve(a.end(d.depth)),d.depth)),c=!0}var f=n.findWrapping(u,e,t,d);return!!f&&(i&&i(function(e,t,r,i,s){for(var l=o.Fragment.empty,a=r.length-1;a>=0;a--)l=o.Fragment.from(r[a].type.create(r[a].attrs,l));e.step(new n.ReplaceAroundStep(t.start-(i?2:0),t.end,t.start,t.end,new o.Slice(l,0,0),r.length,!0));for(var d=0,c=0;c<r.length;c++)r[c].type==s&&(d=c+1);for(var u=r.length-d,p=t.start+r.length-(i?2:0),f=t.parent,h=t.startIndex,v=t.endIndex,m=!0;h<v;h++,m=!1)!m&&n.canSplit(e.doc,p,u)&&(e.split(p,u),p+=2*u),p+=f.child(h).nodeSize;return e}(r.tr,d,f,c,e).scrollIntoView()),!0)}}}}]);