"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[662],{2587:(e,t,n)=>{var r=n(2926).___internalHook("/","../../..","..");e.exports=n(1031),r()},1031:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(8669),o=n(3660),i=n(8682),c=n(9534),u=n(8738),a=n(8025),s=n(9825);const f=function(){var e=(0,o.D0)({topNode:new i.default,emPlugins:[new c.default,new u.default,new a.default,new s.default]});return e&&r.createElement(o.o.Provider,{value:e},r.createElement(o.k3,null,r.createElement("p",null,"This plugin is copy from website example, and it will expend this feature."),r.createElement("div",{className:"emirror-codemirror5"},"/**\n * get the sum of a and b.\n * @param(number) a\n * @param(number) b\n */\nconst add = (a, b) => a + b")))}},9825:(e,t,n)=>{var r=n(2926).___internalHook("/","../../..","..");e.exports=n(105),r()},105:(e,t,n)=>{n.d(t,{default:()=>M});var r=n(5820),o=n(8371),i=n(2945),c=n.n(i),u=n(7192),a=n(6535),s=n(531),f=n(1892),l=n.n(f),p=n(5760),h=n.n(p),d=n(8311),y=n.n(d),m=n(8192),v=n.n(m),b=n(8060),g=n.n(b),w=n(4865),O=n.n(w),P=n(2287),_={};function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_.styleTagTransform=O(),_.setAttributes=v(),_.insert=y().bind(null,"head"),_.domAPI=h(),_.insertStyleElement=g(),l()(P.Z,_),P.Z&&P.Z.locals&&P.Z.locals,n(2940),n(2783);const x=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),S(this,"view",void 0),S(this,"node",void 0),S(this,"getPos",void 0),S(this,"dom",void 0),S(this,"contentDOM",void 0),S(this,"incomingChanges",void 0),S(this,"updating",void 0),S(this,"cm",void 0),S(this,"update",(function(e){if(e.type!==n.node.type)return!1;n.node=e;var t=n.computeChange(n.cm.getValue(),e.textContent);return t&&(n.updating=!0,n.cm.replaceRange(t.text,n.cm.posFromIndex(t.from),n.cm.posFromIndex(t.to)),n.updating=!1),!0})),S(this,"selectNode",(function(){n.cm.focus()})),this.view=t.view,this.node=t.node,this.getPos=t.getPos,this.incomingChanges=!1,this.dom=document.createElement("div"),this.dom.classList.add("emirror-".concat(this.node.type.name,"__nodeview-dom")),this.cm=c()(this.dom,{value:this.node.textContent,lineNumbers:!0,extraKeys:this.codeMirrorKeymap(),mode:t.options.language}),setTimeout((function(){n.cm.refresh()}),10),this.updating=!1,this.cm.on("beforeChange",(function(){return n.incomingChanges=!0})),this.cm.on("cursorActivity",(function(){n.updating||n.incomingChanges||n.forwardSelection()})),this.cm.on("changes",(function(){n.updating||(n.valueChanged(),n.forwardSelection()),n.incomingChanges=!1})),this.cm.on("focus",(function(){return n.forwardSelection()}))}var t,n;return t=e,(n=[{key:"asPMSelection",value:function(e){var t=this.getPos()+1,n=this.cm.indexFromPos(this.cm.getCursor("anchor"))+t,r=this.cm.indexFromPos(this.cm.getCursor("head"))+t;return o.Bs.create(e,n,r)}},{key:"forwardSelection",value:function(){if(this.cm.hasFocus()){var e=this.view.state,t=this.asPMSelection(e.doc);t.eq(e.selection)||this.view.dispatch(e.tr.setSelection(t))}}},{key:"computeChange",value:function(e,t){if(e===t)return null;for(var n=0,r=e.length,o=t.length;n<r&&e.charCodeAt(n)===t.charCodeAt(n);)n+=1;for(;r>n&&o>n&&e.charCodeAt(r-1)===t.charCodeAt(o-1);)r-=1,o-=1;return{from:n,to:r,text:t.slice(n,o)}}},{key:"valueChanged",value:function(){var e=this.computeChange(this.node.textContent,this.cm.getValue());if(e){var t=this.getPos()+1,n=this.view.state.tr.replaceWith(t+e.from,t+e.to,e.text?this.view.state.schema.text(e.text):null);this.view.dispatch(n)}}},{key:"maybeEscape",value:function(e,t){var n=this.cm.getCursor();if(this.cm.somethingSelected()||n.line!==(t<0?this.cm.firstLine():this.cm.lastLine())||"char"===e&&n.ch!==(t<0?0:this.cm.getLine(n.line).length))return c().Pass;this.view.focus();var r=this.getPos()+(t<0?0:this.node.nodeSize),i=o.Y1.near(this.view.state.doc.resolve(r),t);this.view.dispatch(this.view.state.tr.setSelection(i).scrollIntoView()),this.view.focus()}},{key:"codeMirrorKeymap",value:function(){var e,t=this,n=this.view,r=u.V5?"Cmd":"Ctrl";return c().normalizeKeyMap((S(e={Up:function(){return t.maybeEscape("line",-1)},Left:function(){return t.maybeEscape("char",-1)},Down:function(){return t.maybeEscape("line",1)},Right:function(){return t.maybeEscape("char",1)}},"".concat(r,"-Enter"),(function(){(0,a.uo)(n.state,n.dispatch)&&n.focus()})),S(e,"".concat(r,"-z"),(function(){return(0,s.Yw)(n.state,n.dispatch)})),S(e,"Shift-".concat(r,"-z"),(function(){return(0,s.KX)(n.state,n.dispatch)})),S(e,"".concat(r,"-y"),(function(){return(0,s.KX)(n.state,n.dispatch)})),e))}},{key:"setSelection",value:function(e,t){this.cm.focus(),this.updating=!0,this.cm.setSelection(this.cm.posFromIndex(e),this.cm.posFromIndex(t)),this.updating=!1}}])&&k(t.prototype,n),e}();function C(e){return function(t,n,r){if(t.selection.empty&&r.endOfTextblock(e)){var i=["left","up"].includes(e)?-1:1,c=t.selection.$head,u=o.Y1.near(t.doc.resolve(i>0?c.after():c.before()),i);if(u.$head&&"codeEditor"===u.$head.parent.type.name)return n(t.tr.setSelection(u)),!0}return!1}}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(u,e);var t,n,r,i,c=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=K(r);if(i){var n=K(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return A(this,e)});function u(){return E(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"name",get:function(){return"codeEditor"}},{key:"createNodeSpec",value:function(){return{attrs:{language:{default:""}},content:"text*",marks:"",group:"block",code:!0,defining:!0,isolating:!0,parseDOM:[{tag:"div.emirror-codemirror5",preserveWhitespace:"full"}],toDOM:function(){return["div",{class:"emirror-codemirror5"},0]}}}},{key:"createPluginSpec",value:function(){return{key:new o.H$(this.name),props:{nodeViews:(e={},t=this.name,n=function(e,t,n){return new x({view:t,node:e,getPos:n,options:{language:e.attrs.language||"javascript"}})},t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)}};var e,t,n}},{key:"keymap",get:function(){return{ArrowLeft:C("left"),ArrowRight:C("right"),ArrowUp:C("up"),ArrowDown:C("down")}}}])&&R(t.prototype,n),u}(r.N)},8682:(e,t,n)=>{var r=n(2926).___internalHook("/","../../..","..");e.exports=n(6395),r()},6395:(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,{default:()=>s});const s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,e);var t,n,r,s,f=(r=l,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=a(r);if(s){var n=a(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function l(){return o(this,l),f.apply(this,arguments)}return t=l,(n=[{key:"name",get:function(){return"doc"}},{key:"createNodeSpec",value:function(){return{content:"block+"}}}])&&i(t.prototype,n),l}(n(5820).N)},8025:(e,t,n)=>{var r=n(2926).___internalHook("/","../../..","..");e.exports=n(2923),r()},2923:(e,t,n)=>{n.d(t,{default:()=>p});var r=n(5647),o=n(7192),i=n(531);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(h,e);var t,n,r,c,p=(r=h,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(r);if(c){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function h(){return u(this,h),p.apply(this,arguments)}return t=h,(n=[{key:"name",get:function(){return"history"}},{key:"addPlugin",value:function(){return[(0,i.m8)()]}},{key:"commands",get:function(){return{redo:function(){return i.KX},undo:function(){return i.Yw}}}},{key:"keymap",get:function(){var e={};return e["Mod-z"]=i.Yw,e["Shift-Mod-z"]=i.KX,o.V5||(e["Mod-y"]=i.KX),e}}])&&a(t.prototype,n),h}(r.h)},531:(e,t,n)=>{n.d(t,{m8:()=>r.m8,KX:()=>r.KX,Yw:()=>r.Yw});var r=n(8253)},2287:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(6217),o=n.n(r),i=n(8711),c=n.n(i)()(o());c.push([e.id,"// extracted by mini-css-extract-plugin\nexport {};",""]);const u=c}}]);