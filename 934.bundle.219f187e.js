"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[934],{8934:(t,e,r)=>{var n=r(2926).___internalHook("/","../../..","..");t.exports=r(1578),n()},1578:(t,e,r)=>{r.r(e),r.d(e,{default:()=>f});var n=r(8669),o=r(3660),i=r(8682),u=r(9534),a=r(8738),c=r(1755),s=r(8025);r(4508);const l=function(){return n.createElement(n.Fragment,null)},f=function(){var t=(0,o.D0)({topNode:new i.default,emPlugins:[new u.default,new a.default,new s.default,new c.default({upload:c.upload})]});return t&&n.createElement(o.o.Provider,{value:t},n.createElement(l,null),n.createElement(o.k3,null,n.createElement("p",null,"EMirror also provide image plugin."),n.createElement("img",{src:"https://d3d9mb8xdsbq52.cloudfront.net/180919/20180919205914804.jpg",style:{width:198,height:283}}),n.createElement("p",null,"It also supports GIF:"),n.createElement("img",{src:"https://media.giphy.com/media/OzHKDlB6CqwZG/giphy.gif",style:{width:198,height:82}}),n.createElement("p",null,"It also supports upload form local, but in real world, It better to upload to CDN firstly.")))}},8682:(t,e,r)=>{var n=r(2926).___internalHook("/","../../..","..");t.exports=r(6395),n()},6395:(t,e,r)=>{function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r.d(e,{default:()=>s});const s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(f,t);var e,r,n,s,l=(n=f,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(n);if(s){var r=c(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return a(this,t)});function f(){return o(this,f),l.apply(this,arguments)}return e=f,(r=[{key:"name",get:function(){return"doc"}},{key:"createNodeSpec",value:function(){return{content:"block+"}}}])&&i(e.prototype,r),f}(r(5820).N)},8025:(t,e,r)=>{var n=r(2926).___internalHook("/","../../..","..");t.exports=r(2923),n()},2923:(t,e,r)=>{r.d(e,{default:()=>p});var n=r(5647),o=r(7192),i=r(531);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(y,t);var e,r,n,u,p=(n=y,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(n);if(u){var r=f(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return l(this,t)});function y(){return a(this,y),p.apply(this,arguments)}return e=y,(r=[{key:"name",get:function(){return"history"}},{key:"addPlugin",value:function(){return[(0,i.m8)()]}},{key:"commands",get:function(){return{redo:function(){return i.KX},undo:function(){return i.Yw}}}},{key:"keymap",get:function(){var t={};return t["Mod-z"]=i.Yw,t["Shift-Mod-z"]=i.KX,o.V5||(t["Mod-y"]=i.KX),t}}])&&c(e.prototype,r),y}(n.h)},1755:(t,e,r)=>{var n=r(2926).___internalHook("/","../../..","..");t.exports=r(1678),n()},1678:(t,e,r)=>{r.d(e,{default:()=>G,upload:()=>z});var n=r(5820),o=r(7192),i=r(1651),u=r(8371),a=r(7292);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e,r,n,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,o)}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.opts=e,p(this,"view",void 0)}var e,r,n,o;return e=t,(r=[{key:"setView",value:function(t){return this.view=t,this}},{key:"uploadImageForID",value:(n=regeneratorRuntime.mark((function t(e,r){var n,o,i,u,a,c,l,f=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(){var t=[];return f.view.state.doc.descendants((function(e,n){e.type.name===f.opts.name&&e.attrs.uploadID&&e.attrs.uploadID===r&&t.push({node:e,pos:n})})),t},t.next=3,this.opts.upload(e,this.view);case 3:if(o=t.sent,i=o.width,u=o.height,a=o.url,0!==(c=n()).length){t.next=10;break}return t.abrupt("return");case 10:l=this.view.state.tr.setMeta("addToHistory",!1),c.forEach((function(t){var e=t.node,r=t.pos;l=l.setNodeMarkup(r,void 0,s(s({},e.attrs),{},{width:i,height:u,src:a}))})),this.view.dispatch(l);case 13:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function u(t){l(i,r,o,u,a,"next",t)}function a(t){l(i,r,o,u,a,"throw",t)}u(void 0)}))},function(t,e){return o.apply(this,arguments)})},{key:"createImageNode",value:function(t){return this.view.state.schema.nodes[this.opts.name].create(s(s({},t),{},{src:this.opts.placeHolderImageSrc,uploadID:this.opts.genID()}))}},{key:"uploadImage",value:function(t,e){var r=this.view.state.tr;r.selection.empty||r.deleteSelection();var n=this.createImageNode();this.view.dispatch(r.replaceWith(e,e,n)),this.uploadImageForID(t,n.attrs.uploadID)}},{key:"uploadImageFiles",value:function(t,e){var r=this;Array.from(t).filter((function(t){return r.opts.types.includes(t.type)})).forEach((function(t,n){r.uploadImage(t,e+n)}))}},{key:"handlePaste",value:function(t){var e,r=this,n=Array.from((null===(e=t.clipboardData)||void 0===e?void 0:e.items)||[]);if(n.some((function(t){return"text/html"===t.type})))return!1;var o=n.find((function(t){return r.opts.types.includes(t.type)}));return!!o&&(this.uploadImage(o.getAsFile(),this.view.state.selection.from),!0)}},{key:"transformPasted",value:function(t){var e=this,r=[],n=[];return t.content.forEach((function(t){var o=t;t.type.name===e.opts.name?(o=e.createImageNode(t.attrs),r.push({id:o.attrs.uploadID,url:t.attrs.src})):t.descendants((function(t,n){if(t.type.name===e.opts.name){var i=e.createImageNode(t.attrs);o=o.replace(n,n+1,new a.p2(a.HY.from(i),0,0)),r.push({id:i.attrs.uploadID,url:t.attrs.src})}})),n.push(o)})),r.forEach((function(t){var r=t.url,n=t.id;return e.uploadImageForID(r,n)})),new a.p2(a.HY.fromArray(n),t.openStart,t.openEnd)}},{key:"handleDrop",value:function(t){var e;if(null===(e=t.dataTransfer)||void 0===e||!e.files.length)return!1;var r=this.view.posAtCoords({left:t.clientX,top:t.clientY});return!!r&&(this.uploadImageFiles(t.dataTransfer.files,r.pos),!0)}}])&&f(e.prototype,r),t}(),d=r(1892),h=r.n(d),m=r(5760),b=r.n(m),g=r(8311),w=r.n(g),v=r(8192),I=r.n(v),D=r(8060),M=r.n(D),O=r(4865),j=r.n(O),P=r(2363),S={};function k(t,e,r,n,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,o)}function N(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function u(t){k(i,n,o,u,a,"next",t)}function a(t){k(i,n,o,u,a,"throw",t)}u(void 0)}))}}function x(t){return new Promise((function(e,r){var n=new Image;n.src=t,n.onload=function(){var r=this.width,n=this.height;e({width:r,height:n,url:t})},n.onerror=function(){r(Error("image upload failed"))}}))}function z(t,e){return new Promise((function(e,r){var n=new FileReader;n.onload=function(){var t=N(regeneratorRuntime.mark((function t(r){var n,o,i,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(r.target.result);case 2:n=t.sent,o=n.width,i=n.height,u=n.url,e({width:o,height:i,url:u});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.onerror=function(){r(Error("image upload failed"))},setTimeout(N(regeneratorRuntime.mark((function r(){var o,i,u,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("string"!=typeof t){r.next=10;break}return r.next=3,x(t);case 3:o=r.sent,i=o.width,u=o.height,a=o.url,e({width:i,height:u,url:a}),r.next=11;break;case 10:n.readAsDataURL(t);case 11:case"end":return r.stop()}}),r)}))),3e3)}))}function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function T(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(r),!0).forEach((function(e){A(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function A(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function C(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}S.styleTagTransform=j(),S.setAttributes=I(),S.insert=w().bind(null,"head"),S.domAPI=b(),S.insertStyleElement=M(),h()(P.Z,S),P.Z&&P.Z.locals&&P.Z.locals;var H={genID:function(){return Math.random().toString(36).substring(7)},placeHolderImageSrc:"data:image/svg+xml,%3Csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg'/%3E\n",types:["image/jpeg","image/gif","image/png","image/jpg"]};const G=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(s,t);var e,r,n,a,c=(n=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=L(n);if(a){var r=L(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return C(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=c.call(this)).opts=t,e}return e=s,(r=[{key:"name",get:function(){return"image"}},{key:"createNodeSpec",value:function(){return{attrs:{src:{},width:{default:100},height:{default:100},uploadID:{default:null}},group:"block",atom:!0,parseDOM:[{tag:"img[src]",getAttrs:function(t){var e=(0,o.g2)(t.getAttribute("style")||"");return{src:t.getAttribute("src"),width:parseInt(e.width,10)||100,height:parseInt(e.height,10)||100,uploadID:t.getAttribute("uploadID")}}}],toDOM:function(t){var e=t.attrs,r=e.src,n=e.width,o=e.height,i=e.uploadID;return["img",{src:r,style:"width: ".concat(n,"px; height:").concat(o,"px;"),class:"emirror-image",uploadID:i}]}}}},{key:"addPlugin",value:function(){return[(t=T(T(T({},H),this.opts),{},{name:this.name}),e=new y(t),new u.Sy({props:{handleDOMEvents:{keydown:function(t){return!e.setView(t)},drop:function(t){return!e.setView(t)},focus:function(t){return!e.setView(t)}},handlePaste:function(t,r){return e.setView(t).handlePaste(r)},transformPasted:function(t){return e.transformPasted(t)},handleDrop:function(t,r){return e.setView(t).handleDrop(r)}}}))];var t,e}},{key:"commands",get:function(){var t=this;return{insertImageAtNowPos:function(e){return function(t,e){return function(r,n){var u=(0,i.getNodeType)(t,r.schema).create({src:e});return(0,o.Lf)(u)(r,n)}}(t.name,e)}}}}])&&R(e.prototype,r),s}(n.N)},531:(t,e,r)=>{r.d(e,{m8:()=>n.m8,KX:()=>n.KX,Yw:()=>n.Yw});var n=r(8253)},2363:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(6217),o=r.n(n),i=r(8711),u=r.n(i)()(o());u.push([t.id,"// extracted by mini-css-extract-plugin\nexport {};",""]);const a=u},4508:t=>{t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMCAwIDQ4IDQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnPjxyZWN0IHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC4wMSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuMDAwMDAwLCA4LjAwMDAwMCkiPjxwYXRoIGQ9Ik0yLDAgTDM2LDAgQzM3LjEwNDU2OTUsLTIuMDI5MDYxMjVlLTE2IDM4LDAuODk1NDMwNSAzOCwyIEwzOCwzMCBDMzgsMzEuMTA0NTY5NSAzNy4xMDQ1Njk1LDMyIDM2LDMyIEwyLDMyIEMwLjg5NTQzMDUsMzIgMS4zNTI3MDc1ZS0xNiwzMS4xMDQ1Njk1IDAsMzAgTDAsMiBDLTEuMzUyNzA3NWUtMTYsMC44OTU0MzA1IDAuODk1NDMwNSwyLjAyOTA2MTI1ZS0xNiAyLDAgWiIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZT0iIzAwMCIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIi8+PGNpcmNsZSBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgY3g9IjkuNSIgY3k9IjguNSIgcj0iMS41IiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2U9IiMwMDAiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGQ9Ik0xMCwxNiBMMTUsMjAgTDIxLDEzIEwzOCwyNiBMMzgsMzAgQzM4LDMxLjEwNDU2OTUgMzcuMTA0NTY5NSwzMiAzNiwzMiBMMiwzMiBDMC44OTU0MzA1LDMyIDIuMjc1MDg5NDZlLTEzLDMxLjEwNDU2OTUgMi4yNzM3MzY3NWUtMTMsMzAgTDIuMjczNzM2NzVlLTEzLDI2IEwxMCwxNiBaIiBzdHJva2Utd2lkdGg9IjMiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlPSIjMDAwIi8+PC9nPjwvZz48L3N2Zz4K"}}]);